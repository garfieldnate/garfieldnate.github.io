<!DOCTYPE html>
<html class="astro-37DZVIS6">
    <head>
        <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<!-- Primary Meta Tags -->
<title>Distributional Statistics of Log Values in Linear Domain</title>
<meta name="title" content="Distributional Statistics of Log Values in Linear Domain">
<meta name="description" content="Aggregating logarithmic values of mean, variance, kurtosis, etc.">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://garfieldnate.github.io/blog/posts/2011-08-17-java-code-distributional-statistics-of/">
<meta property="og:title" content="Distributional Statistics of Log Values in Linear Domain">
<meta property="og:description" content="Aggregating logarithmic values of mean, variance, kurtosis, etc.">
<meta property="og:image" content="https://astro.build/social.png">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://garfieldnate.github.io/blog/posts/2011-08-17-java-code-distributional-statistics-of/">
<meta property="twitter:title" content="Distributional Statistics of Log Values in Linear Domain">
<meta property="twitter:description" content="Aggregating logarithmic values of mean, variance, kurtosis, etc.">
<meta property="twitter:image" content="https://astro.build/social.png">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=IBM+Plex+Sans:wght@400;700&display=swap">

    <link rel="stylesheet" href="/assets/fd12c972.a3045897.css" />
<link rel="stylesheet" href="/assets/df0ad7d9.a89f85d4.css" /><script type="module">const{classList:e}=document.documentElement,A=e.add.bind(e);A("jpeg");A("png");const g=(B,d)=>{const a=new Image;a.src=`data:image/${B};base64,${d}`,a.onload=A(B)};g("webp","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==");g("avif","AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");
</script></head>

    <body class="astro-37DZVIS6">
        <header class="wrapper astro-VQADTZVM">
    <nav class="astro-VQADTZVM">
        <a href="/" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Home</span>
        </a>
        <a href="/#portfolio" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Portfolio</span>
        </a>
        <a href="/resume/resume-en.html" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Resume</span>
        </a>
        <a href="/blog" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Blog</span>
        </a>
        <a href="https://www.linkedin.com/in/nathanglenn" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">LinkedIn</span>
        </a>
        <a href="https://github.com/garfieldnate/" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">GitHub</span>
        </a>
    </nav>
</header>


        <article class="wrapper content astro-37DZVIS6">
            <header class="astro-37DZVIS6">
                
                <h1 class="title astro-37DZVIS6">Distributional Statistics of Log Values in Linear Domain</h1>
                <!-- Machine readable datetime attribute, human-readable text --><time datetime="2011-08-17">17 Aug 2011</time>
            </header>
            <main class="astro-37DZVIS6">
                <p>Quite a long title, sorry. Basically, I had a bunch of log values (and they needed to stay logarithmic to avoid underflow) and I wanted to compute distributional statistics on them, like mean, variance and kurtosis. I wasn’t sure if it would be valid to compute these kinds of statistics on the numbers as is, so I created a class to do all of the calculations in linear space. I’ll post the result here, though there may be bugs (tell me if you find some!).</p><p>One thing to remember is that if the statistics map onto a negative number in linear space then it will be impossible to take the logarithm; therefore, these are invalid operations and you have to consider this before trying to retrieve any numbers from this program. I hope someone finds this useful!</p><pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"></span>
<span class="line"><span style="color: #FF7B72">package</span><span style="color: #C9D1D9"> edu.jhu.clsp.ws11.rerank.utils;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> java.util.Arrays;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E">/**</span></span>
<span class="line"><span style="color: #8B949E"> * This class returns distributional statistics given a list of numbers. The numbers are assumed to</span></span>
<span class="line"><span style="color: #8B949E"> * be in logarithmic space, and all of the computation is done on numbers converted from log to linear</span></span>
<span class="line"><span style="color: #8B949E"> * space; the results are returned again in log space.</span></span>
<span class="line"><span style="color: #8B949E"> * </span><span style="color: #FF7B72">@author</span><span style="color: #8B949E"> Nate Glenn</span></span>
<span class="line"><span style="color: #8B949E"> *</span></span>
<span class="line"><span style="color: #8B949E"> */</span></span>
<span class="line"><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">class</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">LogDistributionalStats</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657">[] </span><span style="color: #C9D1D9">numbers;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">int</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">N;</span><span style="color: #8B949E">//number of numbers input</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">logN;</span><span style="color: #8B949E">//log(N)</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">min;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">median;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">max;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">mean;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">avgAbsDeviation</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">standardDeviation</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">variance</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">skew</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">kurtosis</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">sum;</span></span>
<span class="line"><span style="color: #8B949E">    /**</span></span>
<span class="line"><span style="color: #8B949E">     * Compute statistics on nums. If norm is true, then compute statistics after normalizing</span></span>
<span class="line"><span style="color: #8B949E">     * the array, except for min, mean, and max.</span></span>
<span class="line"><span style="color: #8B949E">     *</span></span>
<span class="line"><span style="color: #8B949E">     */</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">LogDistributionalStats</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9">[] </span><span style="color: #FFA657">nums</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">boolean</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">norm</span><span style="color: #C9D1D9">){</span></span>
<span class="line"><span style="color: #C9D1D9">        N </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> nums.length;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #8B949E">//must make new array so as to avoid overwriting the input.</span></span>
<span class="line"><span style="color: #C9D1D9">        numbers </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9">[N];</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">for</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">int</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">i</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">; i </span><span style="color: #FF7B72">&lt;</span><span style="color: #C9D1D9"> numbers.length; i</span><span style="color: #FF7B72">++</span><span style="color: #C9D1D9">)</span></span>
<span class="line"><span style="color: #C9D1D9">            numbers[i] </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> nums[i];</span></span>
<span class="line"><span style="color: #C9D1D9">        logN </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Math.</span><span style="color: #D2A8FF">log</span><span style="color: #C9D1D9">(N);</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #8B949E">//compute sum, mean, min, and max before normalization (if done at all)</span></span>
<span class="line"><span style="color: #C9D1D9">        sum </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">sumAsLinear</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">        mean </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> sum </span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9"> logN;</span></span>
<span class="line"><span style="color: #C9D1D9">        Arrays.</span><span style="color: #D2A8FF">sort</span><span style="color: #C9D1D9">(numbers);</span></span>
<span class="line"><span style="color: #C9D1D9">        min </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> numbers[</span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">];</span></span>
<span class="line"><span style="color: #C9D1D9">        max </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> numbers[N</span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">];</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9">(norm)</span></span>
<span class="line"><span style="color: #C9D1D9">            ArrayUtils.</span><span style="color: #D2A8FF">minusAll</span><span style="color: #C9D1D9">(numbers,sum);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">deviation;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9">(N </span><span style="color: #FF7B72">&gt;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">){</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">for</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">d</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> numbers){</span></span>
<span class="line"><span style="color: #C9D1D9">                deviation </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> LogMath.</span><span style="color: #D2A8FF">linearDifference</span><span style="color: #C9D1D9">(mean, d);</span></span>
<span class="line"><span style="color: #C9D1D9">                avgAbsDeviation </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> LogMath.</span><span style="color: #D2A8FF">addAsLinear</span><span style="color: #C9D1D9">(avgAbsDeviation, deviation);</span></span>
<span class="line"><span style="color: #C9D1D9">                variance </span><span style="color: #FF7B72">+=</span><span style="color: #C9D1D9"> deviation</span><span style="color: #FF7B72">*</span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">                skew </span><span style="color: #FF7B72">+=</span><span style="color: #C9D1D9"> deviation</span><span style="color: #FF7B72">*</span><span style="color: #79C0FF">3</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">                kurtosis </span><span style="color: #FF7B72">+=</span><span style="color: #C9D1D9"> deviation</span><span style="color: #FF7B72">*</span><span style="color: #79C0FF">4</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">            }</span></span>
<span class="line"><span style="color: #C9D1D9">            variance </span><span style="color: #FF7B72">-=</span><span style="color: #C9D1D9"> Math.</span><span style="color: #D2A8FF">log</span><span style="color: #C9D1D9">(N</span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">            standardDeviation </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> variance</span><span style="color: #FF7B72">/</span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">            skew </span><span style="color: #FF7B72">-=</span><span style="color: #C9D1D9"> logN</span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9">variance</span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9">standardDeviation;</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #8B949E">//don&#39;t do negative 3 calculation here.</span></span>
<span class="line"><span style="color: #C9D1D9">            kurtosis </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> kurtosis</span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9">(logN </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">2</span><span style="color: #FF7B72">*</span><span style="color: #C9D1D9">variance);</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9">{</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">for</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">d</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> numbers){</span></span>
<span class="line"><span style="color: #C9D1D9">                deviation </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> LogMath.</span><span style="color: #D2A8FF">linearDifference</span><span style="color: #C9D1D9">(mean, d);</span></span>
<span class="line"><span style="color: #C9D1D9">                avgAbsDeviation </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> LogMath.</span><span style="color: #D2A8FF">addAsLinear</span><span style="color: #C9D1D9">(avgAbsDeviation, deviation);</span></span>
<span class="line"><span style="color: #C9D1D9">            }</span></span>
<span class="line"><span style="color: #C9D1D9">            variance </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Double.NaN;</span></span>
<span class="line"><span style="color: #C9D1D9">            standardDeviation </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Double.NaN;</span></span>
<span class="line"><span style="color: #C9D1D9">            skew </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Double.NaN;</span></span>
<span class="line"><span style="color: #C9D1D9">            kurtosis </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Double.NaN;</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span>
<span class="line"><span style="color: #C9D1D9">        avgAbsDeviation </span><span style="color: #FF7B72">-=</span><span style="color: #C9D1D9"> logN;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">int</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">mid</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> N</span><span style="color: #FF7B72">/</span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9">(N </span><span style="color: #FF7B72">%</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">==</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">)</span></span>
<span class="line"><span style="color: #C9D1D9">            median </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> LogMath.</span><span style="color: #D2A8FF">addAsLinear</span><span style="color: #C9D1D9">(numbers[mid</span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">], numbers[mid]) </span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9"> Math.</span><span style="color: #D2A8FF">log</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">else</span></span>
<span class="line"><span style="color: #C9D1D9">            median </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> numbers[mid];</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E">    /**</span></span>
<span class="line"><span style="color: #8B949E">     *</span></span>
<span class="line"><span style="color: #8B949E">     * </span><span style="color: #FF7B72">@param</span><span style="color: #8B949E"> </span><span style="color: #FFA657">nums</span></span>
<span class="line"><span style="color: #8B949E">     * </span><span style="color: #FF7B72">@return</span><span style="color: #8B949E"> Linear space sum of all numbers in nums</span></span>
<span class="line"><span style="color: #8B949E">     */</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">sumAsLinear</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">total</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">for</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">double</span><span style="color: #FFA657"> </span><span style="color: #C9D1D9">d</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> numbers)</span></span>
<span class="line"><span style="color: #C9D1D9">            total </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> LogMath.</span><span style="color: #D2A8FF">addAsLinear</span><span style="color: #C9D1D9">(total, d);</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> total;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getMin</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> min;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getMax</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> max;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getMean</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> mean;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getStandardDeviation</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> standardDeviation;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getVariance</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> variance;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getSkew</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> skew;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getSum</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> sum;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #8B949E">    /**</span></span>
<span class="line"><span style="color: #8B949E">     * Kurtosis is not calculated with any linear combinations (subtracting three)</span></span>
<span class="line"><span style="color: #8B949E">     * This is because it is often impossible to convert this to log space, since</span></span>
<span class="line"><span style="color: #8B949E">     * the final product is so often negative. If you want the minus three back again, you can</span></span>
<span class="line"><span style="color: #8B949E">     * try to minus it yourself and handle any exceptions (use LogMath.minusAsLinear()).</span></span>
<span class="line"><span style="color: #8B949E">    */</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getKurtosis</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> kurtosis;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">public</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">double</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">getMedian</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> median;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">}</span></span></code></pre>
            </main>
        </article>
        <footer class="astro-I46STNBI"><a href="/blog/rss.xml" class="astro-I46STNBI"><img src="/rss/rss-icon.svg" class="astro-I46STNBI"> RSS</a>・<a href="/license" class="astro-I46STNBI">License</a></footer>


    
</body></html>