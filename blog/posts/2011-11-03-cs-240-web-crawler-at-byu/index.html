<!DOCTYPE html>
<html class="astro-37DZVIS6">
    <head>
        <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="icon" type="image/x-icon" href="/favicon.ico">

<!-- Primary Meta Tags -->
<title>CS 240 Web Crawler at BYU</title>
<meta name="title" content="CS 240 Web Crawler at BYU">
<meta name="description" content="Advice for getting through BYU's CS rite of passage">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://garfieldnate.github.io/blog/posts/2011-11-03-cs-240-web-crawler-at-byu/">
<meta property="og:title" content="CS 240 Web Crawler at BYU">
<meta property="og:description" content="Advice for getting through BYU's CS rite of passage">
<meta property="og:image" content="https://astro.build/social.png">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://garfieldnate.github.io/blog/posts/2011-11-03-cs-240-web-crawler-at-byu/">
<meta property="twitter:title" content="CS 240 Web Crawler at BYU">
<meta property="twitter:description" content="Advice for getting through BYU's CS rite of passage">
<meta property="twitter:image" content="https://astro.build/social.png">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono&family=IBM+Plex+Sans:wght@400;700&display=swap">

    <link rel="stylesheet" href="/assets/fd12c972.a3045897.css" />
<link rel="stylesheet" href="/assets/df0ad7d9.a89f85d4.css" /><script type="module">const{classList:e}=document.documentElement,A=e.add.bind(e);A("jpeg");A("png");const g=(B,d)=>{const a=new Image;a.src=`data:image/${B};base64,${d}`,a.onload=A(B)};g("webp","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==");g("avif","AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");
</script></head>

    <body class="astro-37DZVIS6">
        <header class="wrapper astro-VQADTZVM">
    <nav class="astro-VQADTZVM">
        <a href="/" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Home</span>
        </a>
        <a href="/#portfolio" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Portfolio</span>
        </a>
        <a href="/resume/resume-en.html" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Resume</span>
        </a>
        <a href="/blog" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">Blog</span>
        </a>
        <a href="https://www.linkedin.com/in/nathanglenn" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">LinkedIn</span>
        </a>
        <a href="https://github.com/garfieldnate/" class="astro-VQADTZVM">
            <span class="astro-VQADTZVM">GitHub</span>
        </a>
    </nav>
</header>


        <article class="wrapper content astro-37DZVIS6">
            <header class="astro-37DZVIS6">
                
                <h1 class="title astro-37DZVIS6">CS 240 Web Crawler at BYU</h1>
                <!-- Machine readable datetime attribute, human-readable text --><time datetime="2011-11-03">3 Nov 2011</time>
            </header>
            <main class="astro-37DZVIS6">
                <p>I recently polished off the web crawler project for CS 240 at BYU. It’s probably the most talked-about project in the CS major, and the cause of so many students retaking the class.</p><p>The specification for the web crawler assignment can be found <a href="http://students.cs.byu.edu/~cs240ta/fall2011/projects/crawler/">here</a>. Basically, given a start URL, the crawler finds every link on a page, follows them, downloads the pages, and indexes each of the words on a page, as long as they are not in a given stop words file; then it follows the links from that page, and so on. All of the indexed information is printed out to XML files. The code also has to conform to proper style, and no memory leaks are allowed.<br>For those who still need to do the project or haven’t taken the following exam yet, I thought I’d post a note or two of help.</p><p>First off, check your constructors! In an initialization for a templatized BST node, I had been invoking the default copy constructor. A copy constructor looks like this:</p><pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #D2A8FF">T</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> T </span><span style="color: #FF7B72">&amp;</span><span style="color: #C9D1D9"> other)</span></span></code></pre><p>In the contained object, I had only implemented the operator= construction. My class T had pointers in it, and those pointers were to objects which were allocated on the heap with the new keyword. The default copy constructor copied the pointers, and when the copy of the object of type T was deleted, so were the structures that its pointers pointed to. Since the original object pointed to the same structures, that object would then cause a segfault when destroyed because it would try to delete non-existent structures. Ouch!</p><p>That bug wasted a good 6 hours of my life. Needless to say, I was a little scared of the next assignment: a debugging exam. The class TAs put 4 bugs into our code (they didn’t touch comments, asserts, or unit tests), and we had 3 hours to find them. Here’s what the TA’s did to my code:</p><ul>
<li>In my URL class, I call erase on a string representing a relative URL to get ride of the ”../../” at the beginning. The correct code is url.erase(0,3), but the TAs changed it to url.erase(0,2).</li>
<li>In my BST Insert method, there is a control structure that determines whether to put a value on a node’s left or right, and the TA’s changed one of the left’s to right’s, i.e. <code>node-&gt;left = new BSTNode&lt;T&gt; (v);</code> was changed to <code>node-&gt;right = new BSTNode&lt;T&gt; (v);</code>.</li>
<li>I have several boolean flags in an HTMLparser class which keep track of whether processing is inside of a header, title, body, or html tag. They should all be false at the beginning of processing, but one of them was changed to true, e.g. <code>constructor():titleFlag(false),bodyFlag(false),headerFlag(true){...</code></li>
<li>The last bug was a memory leak. In my linked list Insert method, I declare a linked list node, use a control structure to determine the proper location of the new node, and then set the node with a call to <code>new</code> and insert it in that location. The TA’s changed the declaration to be a definition which used the <code>new</code> keyword, so I always allocated one extra node on the heap.</li>
</ul><p>The first three bugs I was I able find through unit testing. The last one I pinpointed using valgrind and print statements; however, even though it was staring me in the face, I couldn’t find it and only got 75% on the exam.</p><p>In case somebody finds the code interesting/useful, I’ll post it <a href="https://sites.google.com/site/complingfiles/files/crawler.7z?attredirects=0&d=1">here</a> (no cheating!). Make with <code>make bin</code>. Run with <code>bin/crawler &lt;start url&gt; &lt;stopwords file&gt; &lt;output file&gt;</code>.</p>
            </main>
        </article>
        <footer class="astro-I46STNBI"><a href="/blog/rss.xml" class="astro-I46STNBI"><img src="/rss/rss-icon.svg" class="astro-I46STNBI"> RSS</a>・<a href="/license" class="astro-I46STNBI">License</a></footer>


    
</body></html>